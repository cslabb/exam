DATA SEGMENT
    NUM1 DW 0030H
    NUM2 DW 0024H
    MSG  DB 'GCD (HEX): $'
    GCD  DW ?
DATA ENDS

CODE SEGMENT
    ASSUME CS:CODE, DS:DATA
START:
    MOV AX, @DATA
    MOV DS, AX

    MOV AX, NUM1
    MOV BX, NUM2

COMPARE:
    CMP AX, BX
    JE EXIT
    JA GREATER
    XCHG AX, BX

GREATER:
    SUB AX, BX
    JMP COMPARE

EXIT:
    MOV GCD, AX

    LEA DX, MSG
    MOV AH, 09H
    INT 21H

    MOV AX, GCD
    CALL DISP_HEX

    MOV AH, 4CH
    INT 21H

DISP_HEX PROC
    PUSH CX
    PUSH DX
    MOV CX, 4
HEX_LOOP:
    ROL AX, 4
    MOV DL, AL
    AND DL, 0FH
    CMP DL, 9
    JBE DIGIT
    ADD DL, 7
DIGIT:
    ADD DL, 30H
    MOV AH, 02H
    INT 21H
    LOOP HEX_LOOP
    POP DX
    POP CX
    RET
DISP_HEX ENDP

CODE ENDS
END START
